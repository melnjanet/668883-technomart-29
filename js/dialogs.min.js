"use strict";const contactUs=document.contains(document.querySelector(`.contact-us`))?document.querySelector(`.contact-us`):``,modalFeedback=document.contains(document.querySelector(`.modal-feedback`))?document.querySelector(`.modal-feedback`):``,modalFeedbackClose=document.contains(document.querySelector(`.modal-feedback`))?modalFeedback.querySelector(`.modal-close`):``,map=document.contains(document.querySelector(`.map`))?document.querySelector(`.map`):``,modalMap=document.contains(document.querySelector(`.modal-map`))?document.querySelector(`.modal-map`):``,modalMapClose=document.contains(document.querySelector(`.modal-map`))?modalMap.querySelector(`.modal-close`):``,buyButton=document.querySelectorAll(`.buy-button`),modalCart=document.querySelector(`.modal-cart`),modalCartClose=modalCart.querySelector(`.modal-close`),userName=document.contains(document.querySelector(`.modal-feedback`))?modalFeedback.querySelector(`#feedback-name`):``,feedbackForm=document.contains(document.querySelector(`.modal-feedback`))?modalFeedback.querySelector(`form`):``;let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(a){isStorageSupport=!1}const FeedbackCloseHandler=()=>{modalFeedback.classList.add(`hidden`)},FeedbackOpenHandler=()=>{modalFeedback.classList.remove(`hidden`),userName.focus(),storage&&(feedbackForm.elements.email.value=storage)},onCloseModalFeedbackClick=()=>{FeedbackCloseHandler(),document.removeEventListener(`keydown`,onModalFeedbackEscPress)},onModalFeedbackEscPress=a=>{`Escape`===a.key&&(a.preventDefault(),FeedbackCloseHandler())},onContactUsClick=a=>{a.preventDefault(),FeedbackOpenHandler(),document.addEventListener(`keydown`,onModalFeedbackEscPress)},modalMapCloseHandler=()=>{modalMap.classList.add(`hidden`)},modalMapOpenHandler=()=>{modalMap.classList.remove(`hidden`)},onCloseModalMapClick=()=>{modalMapCloseHandler(),document.removeEventListener(`keydown`,onModalMapEscPress)},onModalMapEscPress=a=>{`Escape`===a.key&&(a.preventDefault(),modalMapCloseHandler())},onMapClick=a=>{a.preventDefault(),modalMapOpenHandler(),document.addEventListener(`keydown`,onModalMapEscPress)},modalCartCloseHandler=()=>{modalCart.classList.add(`hidden`)},modalCartOpenHandler=()=>{modalCart.classList.remove(`hidden`)},onCloseModalCartClick=()=>{modalCartCloseHandler(),document.removeEventListener(`keydown`,onModalCartEscPress)},onModalCartEscPress=a=>{`Escape`===a.key&&(a.preventDefault(),modalCartCloseHandler())},onFeedbackSubmit=a=>{feedbackForm.elements.name.value&&feedbackForm.elements.email.value&&feedbackForm.elements.message.value?isStorageSupport&&localStorage.setItem("email",feedbackForm.elements.email.value):a.preventDefault()};contactUs&&(contactUs.addEventListener(`click`,onContactUsClick),modalFeedbackClose.addEventListener(`click`,onCloseModalFeedbackClick),feedbackForm.addEventListener(`submit`,onFeedbackSubmit)),map&&(map.addEventListener(`click`,onMapClick),modalMapClose.addEventListener(`click`,onCloseModalMapClick)),buyButton.forEach(a=>{a.addEventListener(`click`,a=>{a.preventDefault(),modalCartOpenHandler(),document.addEventListener(`keydown`,onModalCartEscPress)})}),modalCartClose.addEventListener(`click`,onCloseModalCartClick);
